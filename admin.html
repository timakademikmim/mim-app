<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Admin Panel</title>
  <link rel="icon" type="image/png" href="00%20Logo%20MIM%20.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="admin.css?v=20260220-9">
</head>

<body data-role="admin">

  <div class="layout">

    <aside class="sidebar">
      <img src="00 Logo MIM .png" alt="Logo Admin" class="sidebar-logo">

      <button class="sidebar-nav-btn" data-page="dashboard" onclick="loadPage('dashboard')">Dashboard</button>
      <button class="sidebar-nav-btn" data-page="struktur-sekolah" onclick="loadPage('struktur-sekolah')">Struktur Sekolah</button>
      <button class="sidebar-nav-btn" data-page="kalender-akademik" onclick="loadPage('kalender-akademik')">Kalender Akademik</button>
      <button class="sidebar-nav-btn" data-page="tahun-ajaran" onclick="loadPage('tahun-ajaran')">Tahun Ajaran</button>
      <button class="sidebar-nav-btn sidebar-parent-btn" data-page="akademik" onclick="toggleAkademikSidebarMenu()">
        Data Akademik
      </button>
      <div id="sidebar-akademik-submenu" class="sidebar-submenu">
        <button class="sidebar-submenu-btn" data-page="kelas" onclick="loadAkademikFromSidebar('kelas')">Data Kelas</button>
        <button class="sidebar-submenu-btn" data-page="santri" onclick="loadAkademikFromSidebar('santri')">Data Siswa</button>
        <button class="sidebar-submenu-btn" data-page="alumni" onclick="loadAkademikFromSidebar('alumni')">Data Alumni</button>
        <button class="sidebar-submenu-btn" data-page="kelas-guru-mapel" onclick="loadAkademikFromSidebar('guru-mapel')">Data Mapel</button>
        <button class="sidebar-submenu-btn" data-page="jadwal" onclick="loadAkademikFromSidebar('jadwal')">Jadwal Pelajaran</button>
        <button class="sidebar-submenu-btn" data-page="ujian" onclick="loadAkademikFromSidebar('ujian')">Ujian</button>
        <button class="sidebar-submenu-btn" data-page="jadwal-ujian" onclick="loadAkademikFromSidebar('jadwal-ujian')">Jadwal Ujian</button>
      </div>
      <button class="sidebar-nav-btn sidebar-parent-btn" data-page="ketahfizan" onclick="toggleKetahfizanSidebarMenu()">
        Data Ketahfizan
      </button>
      <div id="sidebar-ketahfizan-submenu" class="sidebar-submenu">
        <button class="sidebar-submenu-btn" data-page="ketahfizan-halaqah" onclick="loadKetahfizanFromSidebar('halaqah')">Data Halaqah</button>
        <button class="sidebar-submenu-btn" data-page="ketahfizan-hafalan" onclick="loadKetahfizanFromSidebar('hafalan')">Data Hafalan</button>
        <button class="sidebar-submenu-btn" data-page="ketahfizan-jadwal" onclick="loadKetahfizanFromSidebar('jadwal-halaqah')">Jadwal Halaqah</button>
      </div>
      <button class="sidebar-nav-btn sidebar-parent-btn" data-page="kesantrian" onclick="toggleKesantrianSidebarMenu()">
        Data Kesantrian
      </button>
      <div id="sidebar-kesantrian-submenu" class="sidebar-submenu">
        <button class="sidebar-submenu-btn" data-page="kesantrian-kamar" onclick="loadKesantrianFromSidebar('kamar')">Data Kamar</button>
      </div>
      <button class="sidebar-nav-btn" data-page="mutabaah-karyawan" onclick="loadPage('set-tugas')">Mutabaah Karyawan</button>
      <button class="sidebar-nav-btn sidebar-parent-btn" data-page="karyawan" onclick="toggleKaryawanSidebarMenu()">
        Data Karyawan
      </button>
      <div id="sidebar-karyawan-submenu" class="sidebar-submenu">
        <button class="sidebar-submenu-btn" data-page="karyawan" onclick="loadKaryawanFromSidebar('karyawan')">Data Semua Karyawan</button>
        <button class="sidebar-submenu-btn" data-page="kehadiran-guru" onclick="loadKaryawanFromSidebar('kehadiran-guru')">Kehadiran Karyawan</button>
      </div>
    </aside>

    <main class="content">
      <div class="topbar">
        <div id="topbar-title" class="topbar-title">Dashboard</div>
        <div class="topbar-user-menu-wrap">
          <button type="button" class="topbar-user-trigger" onclick="toggleTopbarUserMenu()">
            <span id="welcome" class="topbar-user-name"></span>
            <span class="topbar-user-arrow">&#9662;</span>
          </button>
          <div id="topbar-user-menu" class="topbar-user-menu">
            <button type="button" onclick="logout()">Logout</button>
          </div>
        </div>
      </div>
      <div id="content-area">
        <h1>Loading...</h1>
      </div>
      <div class="page-bg-signature" aria-hidden="true">Copyright &copy; BnB Studio</div>
    </main>

  </div>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf-autotable@3.8.2/dist/jspdf.plugin.autotable.min.js"></script>
  <script src="role-page.js?v=20260225-legacyfix-03"></script>
  <script src="admin.js?v=20260225-legacyfix-03"></script>

  <div id="app-popup-overlay" class="app-popup-overlay" aria-hidden="true">
    <div class="app-popup-card" role="dialog" aria-modal="true" aria-labelledby="app-popup-message">
      <div id="app-popup-message" class="app-popup-message"></div>
      <div id="app-popup-actions" class="app-popup-actions">
        <button type="button" id="app-popup-ok-btn">OK</button>
      </div>
    </div>
  </div>

</body>
</html>
